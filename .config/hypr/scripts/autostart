#!/bin/bash

usage() {
    echo "Usage: autostart [start|stop]"
    exit 1
}

# Get value of argument (action: start|stop)
action=$1

# Check if the argument is empty
if [ -z "$action" ]; then
    usage
fi

if [ "$action" == "start" ]; then
	hyprctl dispatch exec waybar &
    hyprctl dispatch exec hyprpaper &
    hyprctl dispatch exec hypridle &
    hyprctl dispatch exec swaync &
    hyprctl dispatch exec [workspace 8 silent] thunderbird
    hyprctl dispatch exec [workspace 7 silent] vesktop --start-minimized
elif [ "$action" == "stop" ]; then
	killall waybar
    killall hyprpaper
    killall hypridle
    killall swaync
    killall thunderbird
else
    echo "Invalid action: $action"
    usage
fi

